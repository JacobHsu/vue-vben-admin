import{n as e,q as t,I as a,e as l,B as s,s as o,j as r,g as n,v as i,w as c,x as u,k as d,y as m,K as f,z as g,A as p,C as b,r as y,o as v,m as h,D as x,E as w,F as C,G as F,p as S,H as j}from"./index.74f7b770.js";import{C as _}from"./index.16194379.js";import{C as O,R as L}from"./index.de114c6b.js";import{D as k}from"./index.3298ebcd.js";import{F as E}from"./index.30d8585f.js";import"./index.f3ab3c82.js";import{_ as I,u as D,a as P,L as R,b as T}from"./LoginFormTitle.f2dd886e.js";import{G as z}from"./GithubFilled.26f500ae.js";import{W as G,A}from"./WechatFilled.eb38731e.js";import"./vendor.62a151c9.js";import"./_baseIteratee.6a708fda.js";import"./get.e5a8e3ec.js";import"./_baseProperty.74f89655.js";import"./findIndex.970dbfad.js";import"./responsiveObserve.c545f1cc.js";var B={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm167 633.6C638.4 735 583 757 516.9 757c-95.7 0-178.5-54.9-218.8-134.9C281.5 589 272 551.6 272 512s9.5-77 26.1-110.1c40.3-80.1 123.1-135 218.8-135 66 0 121.4 24.3 163.9 63.8L610.6 401c-25.4-24.3-57.7-36.6-93.6-36.6-63.8 0-117.8 43.1-137.1 101-4.9 14.7-7.7 30.4-7.7 46.6s2.8 31.9 7.7 46.6c19.3 57.9 73.3 101 137 101 33 0 61-8.7 82.9-23.4 26-17.4 43.2-43.3 48.9-74H516.9v-94.8h230.7c2.9 16.1 4.4 32.8 4.4 50.1 0 74.7-26.7 137.4-73 180.1z"}}]},name:"google-circle",theme:"filled"};function M(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var N=function(l,s){var o=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},l=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){M(e,t,a[t])}))}return e}({},l,s.attrs);return e(a,t(o,{icon:B}),null)};N.displayName="GoogleCircleFilled",N.inheritAttrs=!1;var W={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm215.3 337.7c.3 4.7.3 9.6.3 14.4 0 146.8-111.8 315.9-316.1 315.9-63 0-121.4-18.3-170.6-49.8 9 1 17.6 1.4 26.8 1.4 52 0 99.8-17.6 137.9-47.4-48.8-1-89.8-33-103.8-77 17.1 2.5 32.5 2.5 50.1-2a111 111 0 01-88.9-109v-1.4c14.7 8.3 32 13.4 50.1 14.1a111.13 111.13 0 01-49.5-92.4c0-20.7 5.4-39.6 15.1-56a315.28 315.28 0 00229 116.1C492 353.1 548.4 292 616.2 292c32 0 60.8 13.4 81.1 35 25.1-4.7 49.1-14.1 70.5-26.7-8.3 25.7-25.7 47.4-48.8 61.1 22.4-2.4 44-8.6 64-17.3-15.1 22.2-34 41.9-55.7 57.6z"}}]},name:"twitter-circle",theme:"filled"};function U(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var $=function(l,s){var o=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},l=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){U(e,t,a[t])}))}return e}({},l,s.attrs);return e(a,t(o,{icon:W}),null)};$.displayName="TwitterCircleFilled",$.inheritAttrs=!1;var q=l({name:"LoginForm",components:{[O.name]:O,[L.name]:L,Checkbox:_,Button:s,Form:E,FormItem:E.Item,Input:o,Divider:k,LoginFormTitle:I,InputPassword:o.Password,GithubFilled:z,WechatFilled:G,AlipayCircleFilled:A,GoogleCircleFilled:N,TwitterCircleFilled:$},setup(){const{t:e}=r(),{notification:t}=b(),{prefixCls:a}=n("login"),{setLoginState:l,getLoginState:s}=D(),{getFormRules:o}=P(),y=i(null),v=i(!1),h=i(!1),x=c({account:"vben",password:"123456"}),{validForm:w}=T(y);u(["enter"],(e=>{e.keyCode===f.ENTER&&F()}));const C=d((()=>m(s)===R.LOGIN));async function F(){const a=await w();if(a)try{v.value=!0;const l=await g.login(p({password:a.password,username:a.account}));l&&t.success({message:e("sys.login.loginSuccessTitle"),description:`${e("sys.login.loginSuccessDesc")}: ${l.realName}`,duration:3})}finally{v.value=!1}}return{t:e,prefixCls:a,formRef:y,formData:x,getFormRules:o,rememberMe:h,handleLogin:F,loading:v,setLoginState:l,LoginStateEnum:R,getShow:C}}});q.render=function(t,a,l,s,o,r){const n=y("LoginFormTitle"),i=y("Input"),c=y("FormItem"),u=y("InputPassword"),d=y("Checkbox"),m=y("ACol"),f=y("Button"),g=y("ARow"),p=y("Divider"),b=y("GithubFilled"),_=y("WechatFilled"),O=y("AlipayCircleFilled"),L=y("GoogleCircleFilled"),k=y("TwitterCircleFilled"),E=y("Form");return v(),h(j,null,[x(e(n,{class:"enter-x"},null,512),[[w,t.getShow]]),x(e(E,{class:"p-4 enter-x",model:t.formData,rules:t.getFormRules,ref:"formRef"},{default:C((()=>[e(c,{name:"account",class:"enter-x"},{default:C((()=>[e(i,{size:"large",value:t.formData.account,"onUpdate:value":a[1]||(a[1]=e=>t.formData.account=e),placeholder:t.t("sys.login.userName")},null,8,["value","placeholder"])])),_:1}),e(c,{name:"password",class:"enter-x"},{default:C((()=>[e(u,{size:"large",visibilityToggle:"",value:t.formData.password,"onUpdate:value":a[2]||(a[2]=e=>t.formData.password=e),placeholder:t.t("sys.login.password")},null,8,["value","placeholder"])])),_:1}),e(g,{class:"enter-x"},{default:C((()=>[e(m,{span:12},{default:C((()=>[e(c,null,{default:C((()=>[e(d,{checked:t.rememberMe,"onUpdate:checked":a[3]||(a[3]=e=>t.rememberMe=e),size:"small"},{default:C((()=>[F(S(t.t("sys.login.rememberMe")),1)])),_:1},8,["checked"])])),_:1})])),_:1}),e(m,{span:12},{default:C((()=>[e(c,{style:{"text-align":"right"}},{default:C((()=>[e(f,{type:"link",size:"small",onClick:a[4]||(a[4]=e=>t.setLoginState(t.LoginStateEnum.RESET_PASSWORD))},{default:C((()=>[F(S(t.t("sys.login.forgetPassword")),1)])),_:1})])),_:1})])),_:1})])),_:1}),e(c,{class:"enter-x"},{default:C((()=>[e(f,{type:"primary",size:"large",block:"",onClick:t.handleLogin,loading:t.loading},{default:C((()=>[F(S(t.t("sys.login.loginButton")),1)])),_:1},8,["onClick","loading"])])),_:1}),e(g,{class:"enter-x"},{default:C((()=>[e(m,{xs:24,md:8},{default:C((()=>[e(f,{block:"",onClick:a[5]||(a[5]=e=>t.setLoginState(t.LoginStateEnum.MOBILE))},{default:C((()=>[F(S(t.t("sys.login.mobileSignInFormTitle")),1)])),_:1})])),_:1}),e(m,{md:8,xs:24,class:"xs:my-2 md:my-0 xs:mx-0 md:mx-2"},{default:C((()=>[e(f,{block:"",onClick:a[6]||(a[6]=e=>t.setLoginState(t.LoginStateEnum.QR_CODE))},{default:C((()=>[F(S(t.t("sys.login.qrSignInFormTitle")),1)])),_:1})])),_:1}),e(m,{md:7,xs:24},{default:C((()=>[e(f,{block:"",onClick:a[7]||(a[7]=e=>t.setLoginState(t.LoginStateEnum.REGISTER))},{default:C((()=>[F(S(t.t("sys.login.registerButton")),1)])),_:1})])),_:1})])),_:1}),e(p,{class:"enter-x"},{default:C((()=>[F(S(t.t("sys.login.otherSignIn")),1)])),_:1}),e("div",{class:["flex justify-evenly enter-x",`${t.prefixCls}-sign-in-way`]},[e(b),e(_),e(O),e(L),e(k)],2)])),_:1},8,["model","rules"]),[[w,t.getShow]])],64)};export default q;
