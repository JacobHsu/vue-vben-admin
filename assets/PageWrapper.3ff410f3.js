var t=Object.assign;import{Z as e,N as o,e as n,U as a,X as s,S as r,a6 as l,W as i,n as c,a9 as u,ct as d,g,a_ as f,o as h,m as p,aw as b,av as v,aq as m,v as C,k as x,as as H,cu as $,R as k,y,r as j,q as F,at as P,au as S,F as _,J as w,H as N,G as A,p as B}from"./index.74f7b770.js";import{u as O}from"./usePageContext.8eee5bf7.js";import{B as V}from"./index.b76b32b4.js";import{A as R}from"./index.a23a096e.js";import{T as W,o as I}from"./onMountedOrActivated.8ce13bba.js";import{A as T}from"./ArrowLeftOutlined.e7833055.js";var q={backIcon:o.VNodeChild,prefixCls:o.string,title:o.VNodeChild,subTitle:o.VNodeChild,breadcrumb:o.object,tags:o.any,footer:o.VNodeChild,extra:o.VNodeChild,avatar:o.object,ghost:o.looseBool,onBack:o.func},G=function(t,e){var o=e.avatar,n=l(e,"title"),a=l(e,"subTitle"),s=l(e,"tags"),r=l(e,"extra"),i=void 0!==l(e,"backIcon")?l(e,"backIcon"):c(T,null,null),g=e.onBack,f="".concat(t,"-heading");if(n||a||s||r){var h=function(t,e,o,n){return o&&n?c(d,{componentName:"PageHeader",children:function(n){var a,s=n.back;return c("div",{class:"".concat(e,"-back")},[c(W,{onClick:function(e){t.$emit("back",e)},class:"".concat(e,"-back-button"),"aria-label":s},(a=o,"function"==typeof a||"[object Object]"===Object.prototype.toString.call(a)&&!u(a)?o:{default:function(){return[o]}}))])}},null):null}(e,t,i,g);return c("div",{class:f},[h,o&&c(R,o,null),n&&c("span",{class:"".concat(f,"-title")},[n]),a&&c("span",{class:"".concat(f,"-sub-title")},[a]),s&&c("span",{class:"".concat(f,"-tags")},[s]),r&&c("span",{class:"".concat(f,"-extra")},[r])])}return null},J=function(t,e){return e?c("div",{class:"".concat(t,"-footer")},[e]):null},L=function(t,e){return c("div",{class:"".concat(t,"-content")},[e])},M=e(n({name:"APageHeader",props:q,setup:function(){return{configProvider:a("configProvider",s)}},render:function(){var t=this.configProvider,e=t.getPrefixCls,o=t.pageHeader,n=r(this),a=n.prefixCls,s=n.breadcrumb,u=l(this,"footer"),d=i(this),g=!0;"ghost"in n?g=n.ghost:o&&"ghost"in o&&(g=o.ghost);var f,h,p,b=e("page-header",a),v=s&&s.routes?function(t){return c(V,t,null)}(s):null,m=[b,(f={"has-breadcrumb":v,"has-footer":u},h="".concat(b,"-ghost"),p=g,h in f?Object.defineProperty(f,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):f[h]=p,f)];return c("div",{class:m},[v,G(b,this),d.length?L(b,d):null,J(b,u)])}})),U=n({name:"PageFooter",inheritAttrs:!1,setup(){const{prefixCls:t}=g("page-footer"),{getCalcContentWidth:e}=f();return{prefixCls:t,getCalcContentWidth:e}}});const X=v("data-v-6c3812d3")(((t,e,o,n,a,s)=>(h(),p("div",{class:t.prefixCls,style:{width:t.getCalcContentWidth}},[c("div",{class:`${t.prefixCls}__left`},[b(t.$slots,"left")],2),b(t.$slots,"default"),c("div",{class:`${t.prefixCls}__right`},[b(t.$slots,"right")],2)],6))));U.render=X,U.__scopeId="data-v-6c3812d3";var Z=n({name:"PageWrapper",components:{PageFooter:U,PageHeader:M},inheritAttrs:!1,props:{title:m.string,dense:m.bool,ghost:m.bool,content:m.string,contentStyle:{type:Object},contentBackground:m.bool,contentFullHeight:m.bool,contentClass:m.string,fixedHeight:m.bool},setup(e,{slots:o}){const n=C(null),a=C(null),s=C(0),{prefixCls:r,prefixVar:l}=g("page-wrapper"),{contentHeight:i,setPageHeight:c,pageHeight:u}=O(),d=x((()=>[r,{[`${r}--dense`]:e.dense}])),f=x((()=>(null==o?void 0:o.leftFooter)||(null==o?void 0:o.rightFooter))),h=x((()=>Object.keys($(o,"default","leftFooter","rightFooter","headerContent")))),p=x((()=>{const{contentBackground:o,contentFullHeight:n,contentStyle:a,fixedHeight:r}=e,l=o?{backgroundColor:"#fff"}:{};if(!n)return t(t({},l),a);const i=`${y(u)}px`;return t(t(t(t(t({},l),a),{minHeight:i}),r?{height:i}:{}),{paddingBottom:`${y(s)}px`})}));function b(){var t,o;if(!e.contentFullHeight)return;const r=y(a),u=y(n);s.value=0;const d=null==r?void 0:r.$el;d&&(s.value+=null!=(t=null==d?void 0:d.offsetHeight)?t:0);let g=0;const f=null==u?void 0:u.$el;f&&(g+=null!=(o=null==f?void 0:f.offsetHeight)?o:0);let h=0,p="0px",b="0px";const v=document.querySelectorAll(`.${l}-page-wrapper-content`);if(v&&v.length>0){const t=v[0],e=getComputedStyle(t);p=null==e?void 0:e.marginBottom,b=null==e?void 0:e.marginTop}if(p){h+=Number(p.replace(/[^\d]/g,""))}if(b){h+=Number(b.replace(/[^\d]/g,""))}null==c||c(y(i)-y(s)-g-h)}return H((()=>[null==i?void 0:i.value,f.value]),(()=>{b()}),{flush:"post",immediate:!0}),I((()=>{k((()=>{b()}))})),{getContentStyle:p,footerRef:a,headerRef:n,getClass:d,getHeaderSlots:h,prefixCls:r,getShowFooter:f,pageHeight:u,omit:$}}});Z.render=function(t,e,o,n,a,s){const r=j("PageHeader"),l=j("PageFooter");return h(),p("div",{class:t.getClass},[t.content||t.$slots.headerContent||t.title||t.getHeaderSlots.length?(h(),p(r,F({key:0,ghost:t.ghost,title:t.title},t.$attrs,{ref:"headerRef"}),P({default:_((()=>[t.content?(h(),p(N,{key:0},[A(B(t.content),1)],64)):b(t.$slots,"headerContent",{key:1})])),_:2},[S(t.getHeaderSlots,(e=>({name:e,fn:_((o=>[b(t.$slots,e,o)]))})))]),1040,["ghost","title"])):w("",!0),c("div",{class:["overflow-hidden",[`${t.prefixCls}-content`,t.contentClass]],style:t.getContentStyle},[b(t.$slots,"default")],6),t.getShowFooter?(h(),p(l,{key:1,ref:"footerRef"},{left:_((()=>[b(t.$slots,"leftFooter")])),right:_((()=>[b(t.$slots,"rightFooter")])),_:1},512)):w("",!0)],2)};export{Z as _};
