import{e as t,L as e,N as n,O as i,bW as c,W as s,n as o,bV as r,ac as a,S as l,a6 as f,ad as p,ai as u,U as h,X as d,cp as m,bS as g,a9 as b}from"./index.74f7b770.js";function v(){if("undefined"!=typeof window&&window.document&&window.document.documentElement){var t=window.document.documentElement;return"flex"in t.style||"webkitFlex"in t.style||"Flex"in t.style||"msFlex"in t.style}return!1}function O(){return(O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=t({name:"Steps",mixins:[e],props:{type:n.string.def("default"),prefixCls:n.string.def("rc-steps"),iconPrefix:n.string.def("rc"),direction:n.string.def("horizontal"),labelPlacement:n.string.def("horizontal"),status:n.string.def("process"),size:n.string.def(""),progressDot:i(n.oneOfType([n.looseBool,n.func])),initial:n.number.def(0),current:n.number.def(0),icons:n.shape({finish:n.any,error:n.any}).loose,canClick:n.looseBool},data:function(){return this.calcStepOffsetWidth=c(this.calcStepOffsetWidth,150),{flexSupported:!0,lastStepOffsetWidth:0}},mounted:function(){var t=this;this.$nextTick((function(){t.calcStepOffsetWidth(),v()||t.setState({flexSupported:!1})}))},updated:function(){var t=this;this.$nextTick((function(){t.calcStepOffsetWidth()}))},beforeUnmount:function(){this.calcTimeout&&clearTimeout(this.calcTimeout),this.calcStepOffsetWidth&&this.calcStepOffsetWidth.cancel&&this.calcStepOffsetWidth.cancel()},methods:{onStepClick:function(t){this.$props.current!==t&&this.__emit("change",t)},calcStepOffsetWidth:function(){var t=this;if(!v()){var e=this.$data.lastStepOffsetWidth,n=this.$refs.vcStepsRef;n.children.length>0&&(this.calcTimeout&&clearTimeout(this.calcTimeout),this.calcTimeout=setTimeout((function(){var i=(n.lastChild.offsetWidth||0)+1;e===i||Math.abs(e-i)<=3||t.setState({lastStepOffsetWidth:i})})))}}},render:function(){var t,e=this,n=this.prefixCls,i=this.direction,c=this.type,l=this.labelPlacement,f=this.iconPrefix,p=this.status,u=this.size,h=this.current,d=this.progressDot,m=this.initial,g=this.icons,b=this.canClick,v="navigation"===c,x=this.lastStepOffsetWidth,S=this.flexSupported,C=s(this),P=C.length-1,j=d?"vertical":l,w=(y(t={},n,!0),y(t,"".concat(n,"-").concat(i),!0),y(t,"".concat(n,"-").concat(u),u),y(t,"".concat(n,"-label-").concat(j),"horizontal"===i),y(t,"".concat(n,"-dot"),!!d),y(t,"".concat(n,"-navigation"),v),y(t,"".concat(n,"-flex-not-supported"),!S),t);return o("div",{class:w,ref:"vcStepsRef"},[C.map((function(t,c){var s=r(t),o=m+c,l=O({stepNumber:"".concat(o+1),stepIndex:o,prefixCls:n,iconPrefix:f,progressDot:d,icons:g},s);return b&&(l.onStepClick=e.onStepClick),S||"vertical"===i||(v?(l.itemWidth="".concat(100/(P+1),"%"),l.adjustMarginRight=0):c!==P&&(l.itemWidth="".concat(100/P,"%"),l.adjustMarginRight="".concat(-Math.round(x/P+1),"px"))),"error"===p&&c===h-1&&(l.class="".concat(n,"-next-error")),s.status||(l.status=o===h?p:o<h?"finish":"wait"),l.active=o===h,a(t,l)}))])}});function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){P(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j(t){return"string"==typeof t}function w(){}var k=t({name:"Step",mixins:[e],props:{prefixCls:n.string,wrapperStyle:n.object,itemWidth:n.string,active:n.looseBool,disabled:n.looseBool,status:n.string,iconPrefix:n.string,icon:n.any,adjustMarginRight:n.string,stepNumber:n.string,stepIndex:n.number,description:n.any,title:n.any,subTitle:n.any,progressDot:i(n.oneOfType([n.looseBool,n.func])),tailContent:n.any,icons:n.shape({finish:n.any,error:n.any}).loose,onClick:n.func,onStepClick:n.func},methods:{onItemClick:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.__emit.apply(this,["click"].concat(e)),this.__emit("stepClick",this.stepIndex)},renderIconNode:function(){var t,e=l(this),n=e.prefixCls,i=e.stepNumber,c=e.status,s=e.iconPrefix,r=e.icons,a=e.progressDot,p=f(this,"icon"),u=f(this,"title"),h=f(this,"description"),d=(P(t={},"".concat(n,"-icon"),!0),P(t,"".concat(s,"icon"),!0),P(t,"".concat(s,"icon-").concat(p),p&&j(p)),P(t,"".concat(s,"icon-check"),!p&&"finish"===c&&r&&!r.finish),P(t,"".concat(s,"icon-close"),!p&&"error"===c&&r&&!r.error),t),m=o("span",{class:"".concat(n,"-icon-dot")},null);return a?o("span",{class:"".concat(n,"-icon")},"function"==typeof a?[a({index:i-1,status:c,title:u,description:h,prefixCls:n})]:[m]):p&&!j(p)?o("span",{class:"".concat(n,"-icon")},[p]):r&&r.finish&&"finish"===c?o("span",{class:"".concat(n,"-icon")},[r.finish]):r&&r.error&&"error"===c?o("span",{class:"".concat(n,"-icon")},[r.error]):p||"finish"===c||"error"===c?o("span",{class:d},null):o("span",{class:"".concat(n,"-icon")},[i])}},render:function(){var t,e=l(this),n=e.prefixCls,i=e.itemWidth,c=e.active,s=e.status,r=void 0===s?"wait":s,a=e.tailContent,p=e.adjustMarginRight,u=e.disabled,h=e.onClick,d=e.onStepClick,m=f(this,"title"),g=f(this,"subTitle"),b=f(this,"description"),v={class:(P(t={},"".concat(n,"-item"),!0),P(t,"".concat(n,"-item-").concat(r),!0),P(t,"".concat(n,"-item-custom"),f(this,"icon")),P(t,"".concat(n,"-item-active"),c),P(t,"".concat(n,"-item-disabled"),!0===u),t)},O={};i&&(O.width=i),p&&(O.marginRight=p);var y={onClick:h||w};return d&&!u&&(y.role="button",y.tabindex=0,y.onClick=this.onItemClick),o("div",C(C({},v),{},{style:O}),[o("div",C(C({},y),{},{class:"".concat(n,"-item-container")}),[o("div",{class:"".concat(n,"-item-tail")},[a]),o("div",{class:"".concat(n,"-item-icon")},[this.renderIconNode()]),o("div",{class:"".concat(n,"-item-content")},[o("div",{class:"".concat(n,"-item-title")},[m,g&&o("div",{title:g,class:"".concat(n,"-item-subtitle")},[g])]),b&&o("div",{class:"".concat(n,"-item-description")},[b])])])])}});function W(){return(W=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}x.Step=k;var T=t({name:"ASteps",inheritAttrs:!1,props:u({prefixCls:n.string,iconPrefix:n.string,current:n.number,initial:n.number,labelPlacement:n.oneOf(p("horizontal","vertical")).def("horizontal"),status:n.oneOf(p("wait","process","finish","error")),size:n.oneOf(p("default","small")),direction:n.oneOf(p("horizontal","vertical")),progressDot:i(n.oneOfType([n.looseBool,n.func])),type:n.oneOf(p("default","navigation")),onChange:n.func,"onUpdate:current":n.func},{current:0}),emits:["update:current","change"],setup:function(){return{configProvider:h("configProvider",d)}},Step:W(W({},x.Step),{name:"AStep"}),methods:{handleChange:function(t){this.$emit("update:current",t),this.$emit("change",t)}},render:function(){var t,e,n=W(W({},l(this)),this.$attrs),i=n.prefixCls,c=n.iconPrefix,r=this.configProvider.getPrefixCls,a=r("steps",i),p=r("",c),u=f(this,"progressDot",this,!1),h=W(W({icons:{finish:o(m,{class:"".concat(a,"-finish-icon")},null),error:o(g,{class:"".concat(a,"-error-icon")},null)},iconPrefix:p,prefixCls:a,progressDot:u},n),{canClick:!(!this.onChange&&!this["onUpdate:current"]),onChange:this.handleChange});return o(x,h,"function"==typeof(e=t=s(this))||"[object Object]"===Object.prototype.toString.call(e)&&!b(e)?t:{default:function(){return[t]}})}});T.install=function(t){return t.component(T.name,T),t.component(T.Step.name,T.Step),t};export{T as S};
